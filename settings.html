<script>
    // Get current date and time
    function updateTimeAndDate() {
        const now = new Date();
        const time = now.toTimeString().split(' ')[0]; // Military time format
        const date = now.toISOString().split('T')[0]; // Date in YYYY-MM-DD format

        document.getElementById('sys-time').innerText = time;
        document.getElementById('sys-date').innerText = date;
    }

    // Initial call to update time/date
    updateTimeAndDate();
    setInterval(updateTimeAndDate, 1000); // Update every second

    // Menu navigation logic
    let currentIndex = 0;
    const menuItems = document.querySelectorAll('.bios-menu li');

    function updateMenuSelection() {
        menuItems.forEach((item, index) => {
            if (index === currentIndex) {
                item.classList.add('selected');
            } else {
                item.classList.remove('selected');
            }
        });
    }

    // Handle keyboard input for navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowDown') {
            if (currentIndex < menuItems.length - 1) {
                currentIndex++;
                updateMenuSelection();
            }
        } else if (e.key === 'ArrowUp') {
            if (currentIndex > 0) {
                currentIndex--;
                updateMenuSelection();
            }
        } else if (e.key === 'Enter') {
            const selectedMenu = menuItems[currentIndex].innerText;
            handleMenuSelection(selectedMenu);
        }
    });

    function handleMenuSelection(selectedMenu) {
        if (selectedMenu === 'Exit') {
            alert('Exiting BIOS...');
            return;
        }

        // Navigate to testing.html when "Tests" is selected
        if (selectedMenu === 'Tests') {
            window.location.href = 'testing.html'; // Redirect to testing.html
            return;
        }

        // Update the sub-menu based on the selected menu item
        const mainInfo = document.getElementById('main-info');
        if (selectedMenu === 'Main') {
            mainInfo.innerHTML = `
                <li><strong>Processor:</strong> Intel(R) Celeron(TM) N4020</li>
                <li><strong>Memory:</strong> 4GB LPDDR4</li>
                <li><strong>Storage:</strong> 32GB eMMC</li>
                <li><strong>BIOS Version:</strong> 0.0.1.1</li>
            `;
        } else if (selectedMenu === 'Logs') {
            mainInfo.innerHTML = '<li>Added BIOS Menu</li><li>Added Home page with time</li>';
        } else if (selectedMenu === 'Coming Soon') {
            mainInfo.innerHTML = '<li>Coming Soon: A new Game, Music Player, Calendar, Group Chat</li>';
        } else if (selectedMenu === 'Security') {
            mainInfo.innerHTML = '<li>No Security Installed</li>';
        }
    }

    // Initialize menu selection
    updateMenuSelection();
</script>
